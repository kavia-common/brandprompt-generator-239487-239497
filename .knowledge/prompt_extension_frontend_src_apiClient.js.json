{"is_source_file": true, "format": "JavaScript", "description": "This file defines a set of functions for interacting with a backend API related to a prompt generator and related configuration, including health check, configuration fetching, default settings, and prompt generation. It contains utility functions for URL resolution and data mapping, and uses fetch to make HTTP requests.", "external_files": ["fetch (built-in browser API)"], "external_methods": ["fetch"], "published": ["resolveBaseUrl", "healthCheck", "getPublicConfig", "getDefaultSettings", "generatePrompt"], "classes": [], "methods": [{"name": "resolveBaseUrl(settings)", "description": "Resolves the backend base URL from settings or window location, normalizing by removing trailing slashes.", "scope": "", "scopeKind": ""}, {"name": "healthCheck(baseUrl)", "description": "Performs a health check request to the backend to verify availability.", "scope": "", "scopeKind": ""}, {"name": "getPublicConfig(baseUrl)", "description": "Fetches supported options and public configuration from the backend.", "scope": "", "scopeKind": ""}, {"name": "getDefaultSettings(baseUrl)", "description": "Fetches default settings provided by the backend.", "scope": "", "scopeKind": ""}, {"name": "generatePrompt(baseUrl, settings)", "description": "Generates a prompt by sending user settings and context to the backend API.", "scope": "", "scopeKind": ""}, {"name": "inferBackendUrlFromWindowLocation()", "scope": "", "scopeKind": "", "description": "unavailable"}, {"name": "makeHttpError({ message, status, bodyText })", "scope": "", "scopeKind": "", "description": "unavailable"}, {"name": "mapOrientation(uiOrientation)", "scope": "", "scopeKind": "", "description": "unavailable"}, {"name": "mapPlatform(uiPlatform)", "scope": "", "scopeKind": "", "description": "unavailable"}, {"name": "safeReadBodyText(res)", "scope": "", "scopeKind": "", "description": "unavailable"}, {"name": "safeReadJson(res)", "scope": "", "scopeKind": "", "description": "unavailable"}], "calls": ["fetch", "safeReadBodyText", "safeReadJson", "makeHttpError", "inferBackendUrlFromWindowLocation", "mapOrientation", "mapPlatform"], "search-terms": ["api client", "prompt generation", "config fetching", "backend health check", "URL resolution", "JavaScript fetch API"], "state": 2, "file_id": 14, "knowledge_revision": 38, "git_revision": "35c1226e9a2253ba6aea621dac9f395cd5ac7270", "revision_history": [{"34": ""}, {"38": "35c1226e9a2253ba6aea621dac9f395cd5ac7270"}], "ctags": [{"_type": "tag", "name": "DEFAULT_BASE_URL", "path": "/home/kavia/workspace/code-generation/brandprompt-generator-239487-239497/prompt_extension_frontend/src/apiClient.js", "pattern": "/^const DEFAULT_BASE_URL = \"http:\\/\\/localhost:3001\";$/", "language": "JavaScript", "kind": "constant"}, {"_type": "tag", "name": "brief", "path": "/home/kavia/workspace/code-generation/brandprompt-generator-239487-239497/prompt_extension_frontend/src/apiClient.js", "pattern": "/^    brief,$/", "language": "JavaScript", "kind": "field", "scope": "generatePrompt.requestBody", "scopeKind": "class"}, {"_type": "tag", "name": "generatePrompt", "path": "/home/kavia/workspace/code-generation/brandprompt-generator-239487-239497/prompt_extension_frontend/src/apiClient.js", "pattern": "/^export async function generatePrompt(baseUrl, settings) {$/", "language": "JavaScript", "kind": "function", "signature": "(baseUrl, settings)"}, {"_type": "tag", "name": "getDefaultSettings", "path": "/home/kavia/workspace/code-generation/brandprompt-generator-239487-239497/prompt_extension_frontend/src/apiClient.js", "pattern": "/^export async function getDefaultSettings(baseUrl) {$/", "language": "JavaScript", "kind": "function", "signature": "(baseUrl)"}, {"_type": "tag", "name": "getPublicConfig", "path": "/home/kavia/workspace/code-generation/brandprompt-generator-239487-239497/prompt_extension_frontend/src/apiClient.js", "pattern": "/^export async function getPublicConfig(baseUrl) {$/", "language": "JavaScript", "kind": "function", "signature": "(baseUrl)"}, {"_type": "tag", "name": "healthCheck", "path": "/home/kavia/workspace/code-generation/brandprompt-generator-239487-239497/prompt_extension_frontend/src/apiClient.js", "pattern": "/^export async function healthCheck(baseUrl) {$/", "language": "JavaScript", "kind": "function", "signature": "(baseUrl)"}, {"_type": "tag", "name": "inferBackendUrlFromWindowLocation", "path": "/home/kavia/workspace/code-generation/brandprompt-generator-239487-239497/prompt_extension_frontend/src/apiClient.js", "pattern": "/^function inferBackendUrlFromWindowLocation() {$/", "language": "JavaScript", "kind": "function", "signature": "()"}, {"_type": "tag", "name": "makeHttpError", "path": "/home/kavia/workspace/code-generation/brandprompt-generator-239487-239497/prompt_extension_frontend/src/apiClient.js", "pattern": "/^function makeHttpError({ message, status, bodyText }) {$/", "language": "JavaScript", "kind": "function", "signature": "({ message, status, bodyText })"}, {"_type": "tag", "name": "mapOrientation", "path": "/home/kavia/workspace/code-generation/brandprompt-generator-239487-239497/prompt_extension_frontend/src/apiClient.js", "pattern": "/^function mapOrientation(uiOrientation) {$/", "language": "JavaScript", "kind": "function", "signature": "(uiOrientation)"}, {"_type": "tag", "name": "mapPlatform", "path": "/home/kavia/workspace/code-generation/brandprompt-generator-239487-239497/prompt_extension_frontend/src/apiClient.js", "pattern": "/^function mapPlatform(uiPlatform) {$/", "language": "JavaScript", "kind": "function", "signature": "(uiPlatform)"}, {"_type": "tag", "name": "orientation", "path": "/home/kavia/workspace/code-generation/brandprompt-generator-239487-239497/prompt_extension_frontend/src/apiClient.js", "pattern": "/^    orientation: mapOrientation(settings?.orientation),$/", "language": "JavaScript", "kind": "property", "scope": "generatePrompt.requestBody", "scopeKind": "class"}, {"_type": "tag", "name": "platform", "path": "/home/kavia/workspace/code-generation/brandprompt-generator-239487-239497/prompt_extension_frontend/src/apiClient.js", "pattern": "/^    platform: mapPlatform(settings?.platform),$/", "language": "JavaScript", "kind": "property", "scope": "generatePrompt.requestBody", "scopeKind": "class"}, {"_type": "tag", "name": "requestBody", "path": "/home/kavia/workspace/code-generation/brandprompt-generator-239487-239497/prompt_extension_frontend/src/apiClient.js", "pattern": "/^  const requestBody = {$/", "language": "JavaScript", "kind": "class", "scope": "generatePrompt", "scopeKind": "class"}, {"_type": "tag", "name": "resolveBaseUrl", "path": "/home/kavia/workspace/code-generation/brandprompt-generator-239487-239497/prompt_extension_frontend/src/apiClient.js", "pattern": "/^export function resolveBaseUrl(settings) {$/", "language": "JavaScript", "kind": "function", "signature": "(settings)"}, {"_type": "tag", "name": "safeReadBodyText", "path": "/home/kavia/workspace/code-generation/brandprompt-generator-239487-239497/prompt_extension_frontend/src/apiClient.js", "pattern": "/^async function safeReadBodyText(res) {$/", "language": "JavaScript", "kind": "function", "signature": "(res)"}, {"_type": "tag", "name": "safeReadJson", "path": "/home/kavia/workspace/code-generation/brandprompt-generator-239487-239497/prompt_extension_frontend/src/apiClient.js", "pattern": "/^async function safeReadJson(res) {$/", "language": "JavaScript", "kind": "function", "signature": "(res)"}], "hash": "c0a58085733c47d7d57007d9e8e194de", "format-version": 4, "code-base-name": "prompt_extension_frontend", "filename": "prompt_extension_frontend/src/apiClient.js", "fields": [{"name": "brief,", "scope": "generatePrompt.requestBody", "scopeKind": "class", "description": "unavailable"}, {"name": "orientation: mapOrientation(settings?.orientation),", "scope": "generatePrompt.requestBody", "scopeKind": "class", "description": "unavailable"}, {"name": "platform: mapPlatform(settings?.platform),", "scope": "generatePrompt.requestBody", "scopeKind": "class", "description": "unavailable"}]}