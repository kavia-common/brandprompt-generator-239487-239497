{"is_source_file": true, "format": "JavaScript", "description": "This file provides a client-side API wrapper for interacting with a backend service related to prompt generation and configuration. It includes functions for health checks, retrieving configuration data, default settings, and generating prompts, along with utilities for URL resolution and API error handling.", "external_files": ["fetch"], "external_methods": ["fetch"], "published": ["resolveBaseUrl", "healthCheck", "getPublicConfig", "getDefaultSettings", "generatePrompt"], "classes": [], "methods": [{"name": "resolveBaseUrl(settings)", "description": "Resolves the backend base URL from user settings or environment, defaulting to a local server URL.", "scope": "", "scopeKind": ""}, {"name": "healthCheck(baseUrl)", "description": "Performs a health check request to the backend server.", "scope": "", "scopeKind": ""}, {"name": "getPublicConfig(baseUrl)", "description": "Fetches supported options and configuration data for populating UI dropdowns.", "scope": "", "scopeKind": ""}, {"name": "getDefaultSettings(baseUrl)", "description": "Fetches default UI settings from backend.", "scope": "", "scopeKind": ""}, {"name": "generatePrompt(baseUrl, settings)", "description": "Generates a prompt by sending user settings to the backend's prompt generation endpoint.", "scope": "", "scopeKind": ""}, {"name": "inferBackendUrlFromWindowLocation()", "scope": "", "scopeKind": "", "description": "unavailable"}, {"name": "makeHttpError({ message, status, bodyText })", "scope": "", "scopeKind": "", "description": "unavailable"}, {"name": "mapOrientation(uiOrientation)", "scope": "", "scopeKind": "", "description": "unavailable"}, {"name": "mapPlatform(uiPlatform)", "scope": "", "scopeKind": "", "description": "unavailable"}, {"name": "safeReadBodyText(res)", "scope": "", "scopeKind": "", "description": "unavailable"}, {"name": "safeReadJson(res)", "scope": "", "scopeKind": "", "description": "unavailable"}], "calls": ["fetch", "safeReadBodyText", "safeReadJson", "makeHttpError", "inferBackendUrlFromWindowLocation", "mapOrientation", "mapPlatform"], "search-terms": ["prompt_extension_frontend", "apiClient.js", "generatePrompt", "getPublicConfig", "healthCheck", "resolveBaseUrl"], "state": 2, "file_id": 14, "knowledge_revision": 51, "git_revision": "4bf35641370cdc4d907d29658105c34ee8a8e1e9", "revision_history": [{"34": ""}, {"38": "35c1226e9a2253ba6aea621dac9f395cd5ac7270"}, {"51": "4bf35641370cdc4d907d29658105c34ee8a8e1e9"}], "ctags": [{"_type": "tag", "name": "DEFAULT_BASE_URL", "path": "/home/kavia/workspace/code-generation/brandprompt-generator-239487-239497/prompt_extension_frontend/src/apiClient.js", "pattern": "/^const DEFAULT_BASE_URL = \"http:\\/\\/localhost:3001\";$/", "language": "JavaScript", "kind": "constant"}, {"_type": "tag", "name": "brief", "path": "/home/kavia/workspace/code-generation/brandprompt-generator-239487-239497/prompt_extension_frontend/src/apiClient.js", "pattern": "/^    brief,$/", "language": "JavaScript", "kind": "field", "scope": "generatePrompt.requestBody", "scopeKind": "class"}, {"_type": "tag", "name": "generatePrompt", "path": "/home/kavia/workspace/code-generation/brandprompt-generator-239487-239497/prompt_extension_frontend/src/apiClient.js", "pattern": "/^export async function generatePrompt(baseUrl, settings) {$/", "language": "JavaScript", "kind": "function", "signature": "(baseUrl, settings)"}, {"_type": "tag", "name": "getDefaultSettings", "path": "/home/kavia/workspace/code-generation/brandprompt-generator-239487-239497/prompt_extension_frontend/src/apiClient.js", "pattern": "/^export async function getDefaultSettings(baseUrl) {$/", "language": "JavaScript", "kind": "function", "signature": "(baseUrl)"}, {"_type": "tag", "name": "getPublicConfig", "path": "/home/kavia/workspace/code-generation/brandprompt-generator-239487-239497/prompt_extension_frontend/src/apiClient.js", "pattern": "/^export async function getPublicConfig(baseUrl) {$/", "language": "JavaScript", "kind": "function", "signature": "(baseUrl)"}, {"_type": "tag", "name": "healthCheck", "path": "/home/kavia/workspace/code-generation/brandprompt-generator-239487-239497/prompt_extension_frontend/src/apiClient.js", "pattern": "/^export async function healthCheck(baseUrl) {$/", "language": "JavaScript", "kind": "function", "signature": "(baseUrl)"}, {"_type": "tag", "name": "inferBackendUrlFromWindowLocation", "path": "/home/kavia/workspace/code-generation/brandprompt-generator-239487-239497/prompt_extension_frontend/src/apiClient.js", "pattern": "/^function inferBackendUrlFromWindowLocation() {$/", "language": "JavaScript", "kind": "function", "signature": "()"}, {"_type": "tag", "name": "makeHttpError", "path": "/home/kavia/workspace/code-generation/brandprompt-generator-239487-239497/prompt_extension_frontend/src/apiClient.js", "pattern": "/^function makeHttpError({ message, status, bodyText }) {$/", "language": "JavaScript", "kind": "function", "signature": "({ message, status, bodyText })"}, {"_type": "tag", "name": "mapOrientation", "path": "/home/kavia/workspace/code-generation/brandprompt-generator-239487-239497/prompt_extension_frontend/src/apiClient.js", "pattern": "/^function mapOrientation(uiOrientation) {$/", "language": "JavaScript", "kind": "function", "signature": "(uiOrientation)"}, {"_type": "tag", "name": "mapPlatform", "path": "/home/kavia/workspace/code-generation/brandprompt-generator-239487-239497/prompt_extension_frontend/src/apiClient.js", "pattern": "/^function mapPlatform(uiPlatform) {$/", "language": "JavaScript", "kind": "function", "signature": "(uiPlatform)"}, {"_type": "tag", "name": "orientation", "path": "/home/kavia/workspace/code-generation/brandprompt-generator-239487-239497/prompt_extension_frontend/src/apiClient.js", "pattern": "/^    orientation: mapOrientation(settings?.orientation),$/", "language": "JavaScript", "kind": "property", "scope": "generatePrompt.requestBody", "scopeKind": "class"}, {"_type": "tag", "name": "platform", "path": "/home/kavia/workspace/code-generation/brandprompt-generator-239487-239497/prompt_extension_frontend/src/apiClient.js", "pattern": "/^    platform: mapPlatform(settings?.platform),$/", "language": "JavaScript", "kind": "property", "scope": "generatePrompt.requestBody", "scopeKind": "class"}, {"_type": "tag", "name": "requestBody", "path": "/home/kavia/workspace/code-generation/brandprompt-generator-239487-239497/prompt_extension_frontend/src/apiClient.js", "pattern": "/^  const requestBody = {$/", "language": "JavaScript", "kind": "class", "scope": "generatePrompt", "scopeKind": "class"}, {"_type": "tag", "name": "resolveBaseUrl", "path": "/home/kavia/workspace/code-generation/brandprompt-generator-239487-239497/prompt_extension_frontend/src/apiClient.js", "pattern": "/^export function resolveBaseUrl(settings) {$/", "language": "JavaScript", "kind": "function", "signature": "(settings)"}, {"_type": "tag", "name": "safeReadBodyText", "path": "/home/kavia/workspace/code-generation/brandprompt-generator-239487-239497/prompt_extension_frontend/src/apiClient.js", "pattern": "/^async function safeReadBodyText(res) {$/", "language": "JavaScript", "kind": "function", "signature": "(res)"}, {"_type": "tag", "name": "safeReadJson", "path": "/home/kavia/workspace/code-generation/brandprompt-generator-239487-239497/prompt_extension_frontend/src/apiClient.js", "pattern": "/^async function safeReadJson(res) {$/", "language": "JavaScript", "kind": "function", "signature": "(res)"}], "hash": "0c79ddc2f3c5bce18b8529e86f02c541", "format-version": 4, "code-base-name": "prompt_extension_frontend", "filename": "prompt_extension_frontend/src/apiClient.js", "fields": [{"name": "brief,", "scope": "generatePrompt.requestBody", "scopeKind": "class", "description": "unavailable"}, {"name": "orientation: mapOrientation(settings?.orientation),", "scope": "generatePrompt.requestBody", "scopeKind": "class", "description": "unavailable"}, {"name": "platform: mapPlatform(settings?.platform),", "scope": "generatePrompt.requestBody", "scopeKind": "class", "description": "unavailable"}]}