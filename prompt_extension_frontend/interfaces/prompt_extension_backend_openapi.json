{"openapi":"3.1.0","info":{"title":"Prompt Extension Backend","description":"Backend for the browser extension that constructs on-brand prompts from orientation/platform/brand/style inputs.","version":"0.2.0"},"paths":{"/config":{"get":{"tags":["Prompt Extension"],"summary":"Get public config/options","description":"Returns supported enum options and basic backend metadata for the extension UI.","operationId":"get_public_config","responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{"$ref":"#/components/schemas/PublicConfigResponse"}}}}}}},"/settings/defaults":{"get":{"tags":["Prompt Extension"],"summary":"Get default settings","description":"Returns default brand/style settings for initializing the extension UI.","operationId":"get_default_settings","responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{"$ref":"#/components/schemas/DefaultSettingsResponse"}}}}}}},"/prompts/generate":{"post":{"tags":["Prompt Extension"],"summary":"Generate a prompt","description":"Builds a structured prompt from orientation/platform/brand/style inputs. This endpoint does not call any external LLM; it returns the prompt for the client to use.","operationId":"generate_prompt","requestBody":{"content":{"application/json":{"schema":{"$ref":"#/components/schemas/PromptGenerateRequest"}}},"required":true},"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{"$ref":"#/components/schemas/PromptGenerateResponse"}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}}},"/":{"get":{"tags":["Health"],"summary":"Health check","description":"Simple health check endpoint.","operationId":"health_check","responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{}}}}}}}},"components":{"schemas":{"BrandSettings-Input":{"properties":{"brand_name":{"type":"string","maxLength":120,"minLength":1,"title":"Brand Name","description":"Brand name to reference in the generated content.","examples":["Acme Coffee Co."]},"tagline":{"anyOf":[{"type":"string","maxLength":200},{"type":"null"}],"title":"Tagline","description":"Optional brand tagline.","examples":["Fuel your day, one cup at a time."]},"description":{"anyOf":[{"type":"string","maxLength":800},{"type":"null"}],"title":"Description","description":"Optional brand description, values, or positioning."},"target_audience":{"anyOf":[{"type":"string","maxLength":400},{"type":"null"}],"title":"Target Audience","description":"Who the message should be tailored for."},"voice":{"$ref":"#/components/schemas/BrandVoice","description":"Preferred voice characteristics."}},"type":"object","required":["brand_name"],"title":"BrandSettings","description":"Brand configuration used for prompt generation."},"BrandSettings-Output":{"properties":{"brand_name":{"type":"string","maxLength":120,"minLength":1,"title":"Brand Name","description":"Brand name to reference in the generated content.","examples":["Acme Coffee Co."]},"tagline":{"anyOf":[{"type":"string","maxLength":200},{"type":"null"}],"title":"Tagline","description":"Optional brand tagline.","examples":["Fuel your day, one cup at a time."]},"description":{"anyOf":[{"type":"string","maxLength":800},{"type":"null"}],"title":"Description","description":"Optional brand description, values, or positioning."},"target_audience":{"anyOf":[{"type":"string","maxLength":400},{"type":"null"}],"title":"Target Audience","description":"Who the message should be tailored for."},"voice":{"$ref":"#/components/schemas/BrandVoice","description":"Preferred voice characteristics."}},"type":"object","required":["brand_name"],"title":"BrandSettings","description":"Brand configuration used for prompt generation."},"BrandVoice":{"properties":{"tone":{"$ref":"#/components/schemas/Tone","description":"Overall tone of voice.","default":"professional"},"keywords":{"items":{"type":"string"},"type":"array","maxItems":30,"title":"Keywords","description":"Key words/phrases to include or emphasize."},"avoid":{"items":{"type":"string"},"type":"array","maxItems":30,"title":"Avoid","description":"Words/phrases to avoid using."}},"type":"object","title":"BrandVoice","description":"Brand voice settings used to shape the prompt."},"DefaultSettingsResponse":{"properties":{"brand":{"$ref":"#/components/schemas/BrandSettings-Output","description":"Default brand settings."},"style":{"$ref":"#/components/schemas/StyleSettings","description":"Default style settings."}},"type":"object","required":["brand","style"],"title":"DefaultSettingsResponse","description":"Reasonable defaults the frontend can use to initialize settings."},"HTTPValidationError":{"properties":{"detail":{"items":{"$ref":"#/components/schemas/ValidationError"},"type":"array","title":"Detail"}},"type":"object","title":"HTTPValidationError"},"LengthPreference":{"type":"string","enum":["short","medium","long"],"title":"LengthPreference","description":"Preferred output length."},"Option":{"properties":{"key":{"type":"string","title":"Key","description":"Stable identifier (machine-readable)."},"label":{"type":"string","title":"Label","description":"Human-friendly label."}},"type":"object","required":["key","label"],"title":"Option","description":"Generic key/label option for UI dropdowns."},"Orientation":{"type":"string","enum":["post","ad","email","landing_page","other"],"title":"Orientation","description":"User intent / use-case for prompt generation."},"Platform":{"type":"string","enum":["instagram","tiktok","facebook","linkedin","x","youtube","blog","website","other"],"title":"Platform","description":"Publishing platform / destination context."},"PromptGenerateRequest":{"properties":{"orientation":{"$ref":"#/components/schemas/Orientation","description":"Content intent / type."},"platform":{"$ref":"#/components/schemas/Platform","description":"Target publishing platform."},"brief":{"type":"string","maxLength":2000,"minLength":1,"title":"Brief","description":"User's content brief / idea / topic / offer to promote."},"brand":{"$ref":"#/components/schemas/BrandSettings-Input","description":"Brand configuration."},"style":{"$ref":"#/components/schemas/StyleSettings","description":"Style prefs."},"additional_context":{"anyOf":[{"type":"string","maxLength":2000},{"type":"null"}],"title":"Additional Context","description":"Optional extra context (campaign, constraints, references)."}},"type":"object","required":["orientation","platform","brief","brand"],"title":"PromptGenerateRequest","description":"Request body for generating a prompt."},"PromptGenerateResponse":{"properties":{"prompt":{"type":"string","title":"Prompt","description":"Constructed prompt text to be sent to an LLM."},"metadata":{"additionalProperties":true,"type":"object","title":"Metadata","description":"Additional info used to build the prompt (for debugging/UX)."}},"type":"object","required":["prompt"],"title":"PromptGenerateResponse","description":"Response containing the constructed prompt and some helpful metadata."},"PublicConfigResponse":{"properties":{"orientations":{"items":{"$ref":"#/components/schemas/Option"},"type":"array","title":"Orientations","description":"Supported orientations."},"platforms":{"items":{"$ref":"#/components/schemas/Option"},"type":"array","title":"Platforms","description":"Supported platforms."},"tones":{"items":{"$ref":"#/components/schemas/Option"},"type":"array","title":"Tones","description":"Supported tones."},"length_preferences":{"items":{"$ref":"#/components/schemas/Option"},"type":"array","title":"Length Preferences","description":"Supported length options."},"version":{"type":"string","title":"Version","description":"Backend version string."},"docs_url":{"anyOf":[{"type":"string","maxLength":2083,"minLength":1,"format":"uri"},{"type":"null"}],"title":"Docs Url","description":"Optional docs URL for this backend."}},"type":"object","required":["orientations","platforms","tones","length_preferences","version"],"title":"PublicConfigResponse","description":"Public configuration values and supported options for the frontend."},"StyleSettings":{"properties":{"length":{"$ref":"#/components/schemas/LengthPreference","description":"Desired length of the output.","default":"medium"},"include_hashtags":{"type":"boolean","title":"Include Hashtags","description":"If true, instruct the output to include hashtags when relevant.","default":true},"emoji_level":{"type":"integer","maximum":5.0,"minimum":0.0,"title":"Emoji Level","description":"How many emojis to include (0 = none, 5 = heavy).","default":0},"formatting_notes":{"anyOf":[{"type":"string","maxLength":400},{"type":"null"}],"title":"Formatting Notes","description":"Extra formatting constraints (e.g., 'use bullet points')."}},"type":"object","title":"StyleSettings","description":"Stylistic preferences for the generated output."},"Tone":{"type":"string","enum":["professional","friendly","playful","bold","luxurious","minimalist","other"],"title":"Tone","description":"Preferred brand voice tone."},"ValidationError":{"properties":{"loc":{"items":{"anyOf":[{"type":"string"},{"type":"integer"}]},"type":"array","title":"Location"},"msg":{"type":"string","title":"Message"},"type":{"type":"string","title":"Error Type"}},"type":"object","required":["loc","msg","type"],"title":"ValidationError"}}},"tags":[{"name":"Prompt Extension","description":"Endpoints used by the browser extension to fetch config/defaults and generate prompts."},{"name":"Health","description":"Service health checks."}]}